{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///jedi-validate.min.js","webpack:///webpack/bootstrap 40f9e5b8ada582e4f41f?1574","webpack:///./src/jedi-validate.es6?dec3","webpack:///./~/deepmerge/index.js?4ee7","webpack:///./src/lib/get-data.es6?3cd3","webpack:///./src/i18n/jedi-validate-i18n.es6?63a0","webpack:///./src/i18n/jedi-validate-i18n-data.json?59ee","webpack:///./src/lib/get-options.es6?e833","webpack:///./src/lib/validate-data.es6?f112","webpack:///./src/lib/ajax.es6?a588"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_deepmerge","_deepmerge2","_getData","_jediValidateI18n","_getOptions","_validateData","_ajax","JediValidate","_this","options","undefined","defaultOptions","ajax","url","enctype","sendType","method","rules","messages","containers","parent","message","baseMessage","states","error","valid","pristine","dirty","formStatePrefix","callbacks","success","clean","redirect","language","translations","fields","inputs","data","nodes","cacheNodes","formOptions","getFormOptions","form","setLanguage","keys","forEach","translation","addTranslation","initMethods","ready","value","querySelector","querySelectorAll","_this2","setAttribute","addEventListener","event","getData","errors","validateData","methods","getErrorMessage","bind","filter","name","markField","e","console","preventDefault","send","convertData","input","push","groupInput","field","parentNode","classList","contains","Error","add","messageElement","document","createElement","appendChild","inputRules","getInputRules","rule","remove","inputData","getInputData","getValueByName","validateField","_this3","then","response","validationErrors","base","innerHTML","join","window","location","href","reset","_ref","status","statusText","warn","markError","markValid","_ref2","_ref3","func","addMethod","trim","translate","element","regexp","test","size","concat","files","reduce","r","file","extensions","indexOf","split","pop","sourceText","translatedText","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","isMergeableObject","val","nonNullObject","toString","emptyTarget","cloneIfNecessary","optionsArgument","clone","deepmerge","defaultArrayMerge","destination","slice","mergeObject","array","arrayMerge","_defineProperty","createObject","path","segment","convertNameToPath","getValueByPath","getRadioGroupValue","elements","map","radio","getInputValue","Boolean","type","selectedIndex","option","selected","checked","matches","NAME","exec","index","lastIndex","convertedData","query","getQueryPart","formData","hasAttribute","append","FormData","JSON","stringify","part","_typeof","encodeURIComponent","Symbol","iterator","constructor","currentLang","text","lang","dictionary","ru","This field is required","Please, provide correct value","This email is incorrect","This file is too large","This extension is not supported","This phone number is incorrect","Wrong url","getAttribute","defaultRules","RegExp","isEmpty","required","params","Promise","resolve","reject","xhr","XMLHttpRequest","open","toUpperCase","setRequestHeader","onreadystatechange","readyState","parse","responseText"],"mappings":"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","file":"jedi-validate.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JediValidate\"] = factory();\n\telse\n\t\troot[\"JediValidate\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JediValidate\"] = factory();\n\telse\n\t\troot[\"JediValidate\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _deepmerge = __webpack_require__(1);\n\t\n\tvar _deepmerge2 = _interopRequireDefault(_deepmerge);\n\t\n\tvar _getData = __webpack_require__(2);\n\t\n\tvar _jediValidateI18n = __webpack_require__(3);\n\t\n\tvar _getOptions = __webpack_require__(5);\n\t\n\tvar _validateData = __webpack_require__(6);\n\t\n\tvar _ajax = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar JediValidate = function () {\n\t    function JediValidate(root) {\n\t        var _this = this;\n\t\n\t        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t        _classCallCheck(this, JediValidate);\n\t\n\t        var defaultOptions = {\n\t            ajax: {\n\t                url: null,\n\t                enctype: 'application/x-www-form-urlencoded',\n\t                sendType: 'serialize', // 'serialize', 'formData', 'json'\n\t                method: 'GET'\n\t            },\n\t            rules: {},\n\t            messages: {},\n\t            containers: {\n\t                parent: 'form-group',\n\t                message: 'help-block',\n\t                baseMessage: 'base-error'\n\t            },\n\t            states: {\n\t                error: 'error',\n\t                valid: 'valid',\n\t                pristine: 'pristine',\n\t                dirty: 'dirty'\n\t            },\n\t            formStatePrefix: 'jedi-',\n\t            callbacks: {\n\t                success: function success() {},\n\t                error: function error() {}\n\t            },\n\t            clean: true,\n\t            redirect: true,\n\t            language: 'en',\n\t            translations: {}\n\t        };\n\t\n\t        this.root = root;\n\t\n\t        this.options = (0, _deepmerge2.default)(defaultOptions, options);\n\t\n\t        this.fields = {};\n\t        this.inputs = {};\n\t        this.messages = {};\n\t        this.data = {};\n\t\n\t        this.nodes = this.cacheNodes(this.root, this.options);\n\t\n\t        var formOptions = (0, _getOptions.getFormOptions)(this.nodes.form);\n\t\n\t        this.options = (0, _deepmerge2.default)(this.options, defaultOptions);\n\t        this.options = (0, _deepmerge2.default)(this.options, formOptions);\n\t        this.options = (0, _deepmerge2.default)(this.options, options);\n\t\n\t        this.rules = _extends({}, this.options.rules);\n\t\n\t        (0, _jediValidateI18n.setLanguage)(this.options.language);\n\t\n\t        Object.keys(this.options.translations).forEach(function (language) {\n\t            Object.keys(_this.options.translations[language]).forEach(function (translation) {\n\t                (0, _jediValidateI18n.addTranslation)(translation, _this.options.translations[language][translation], language);\n\t            });\n\t        });\n\t\n\t        this.initMethods();\n\t        this.ready();\n\t    }\n\t\n\t    _createClass(JediValidate, [{\n\t        key: 'cacheNodes',\n\t\n\t\n\t        /**\n\t         * Return object with working elements\n\t         * @param root Root element for search\n\t         * @param options Object with selectors\n\t         * @returns {{form: Element, inputs: NodeList, baseMessage: Element}}\n\t         */\n\t        value: function cacheNodes(root, options) {\n\t            return {\n\t                form: root.querySelector('form'),\n\t                inputs: root.querySelectorAll('[name]'),\n\t                baseMessage: root.querySelector('.' + options.containers.baseMessage)\n\t            };\n\t        }\n\t    }, {\n\t        key: 'ready',\n\t        value: function ready() {\n\t            var _this2 = this;\n\t\n\t            this.nodes.form.setAttribute('novalidate', 'novalidate');\n\t\n\t            this.nodes.form.addEventListener('submit', function (event) {\n\t                _this2.data = (0, _getData.getData)(_this2.inputs);\n\t                var errors = (0, _validateData.validateData)(_this2.rules, _this2.methods, _this2.data, _this2.inputs, _this2.getErrorMessage.bind(_this2)); // fixme getErrorMessage\n\t\n\t                if (errors && Object.keys(errors).filter(function (name) {\n\t                    return errors[name];\n\t                }).length !== 0) {\n\t                    Object.keys(errors).forEach(function (name) {\n\t                        return _this2.markField(_this2.fields[name], _this2.messages[name], _this2.options.states, errors[name]);\n\t                    });\n\t\n\t                    try {\n\t                        _this2.options.callbacks.error(errors);\n\t                    } catch (e) {\n\t                        console.error(e);\n\t                    }\n\t\n\t                    event.preventDefault();\n\t                    return;\n\t                }\n\t\n\t                if (_this2.options.ajax) {\n\t                    // todo check without (&& this.options.ajax.url)\n\t                    event.preventDefault();\n\t                } else {\n\t                    try {\n\t                        _this2.options.callbacks.success(errors, event);\n\t                    } catch (e) {\n\t                        console.error(e);\n\t                    }\n\t\n\t                    return;\n\t                }\n\t\n\t                // fix get opt data\n\t                _this2.send(_extends({}, _this2.options.ajax, {\n\t                    data: (0, _getData.convertData)(_this2.data, _this2.options.ajax.sendType, _this2.inputs)\n\t                }));\n\t            });\n\t\n\t            this.nodes.inputs.forEach(function (input) {\n\t                var name = input.name;\n\t\n\t                if (_this2.inputs[name]) {\n\t                    if (Array.isArray(_this2.inputs[name])) {\n\t                        _this2.inputs[name].push(input);\n\t                    } else {\n\t                        var groupInput = [_this2.inputs[name], input];\n\t                        groupInput.name = name;\n\t                        _this2.inputs[name] = groupInput;\n\t                    }\n\t                } else {\n\t                    _this2.inputs[name] = input;\n\t\n\t                    var field = input.parentNode;\n\t\n\t                    do {\n\t                        if (field.classList.contains(_this2.options.containers.parent)) {\n\t                            _this2.fields[name] = field;\n\t                            break;\n\t                        }\n\t\n\t                        field = field.parentNode;\n\t                    } while (field);\n\t\n\t                    if (!_this2.fields[name]) {\n\t                        throw new Error('Have no parent field');\n\t                    }\n\t\n\t                    _this2.fields[name].classList.add(_this2.options.states.pristine);\n\t\n\t                    var messageElement = _this2.fields[name].querySelector('.' + _this2.options.containers.message);\n\t\n\t                    if (messageElement) {\n\t                        _this2.messages[name] = messageElement;\n\t                    } else {\n\t                        _this2.messages[name] = document.createElement('div');\n\t                        _this2.messages[name].classList.add(_this2.options.containers.message);\n\t                        _this2.fields[name].appendChild(_this2.messages[name]);\n\t                    }\n\t\n\t                    _this2.rules[name] = _this2.rules[name] || {};\n\t                    var inputRules = (0, _getOptions.getInputRules)(input);\n\t                    _this2.rules[name] = (0, _deepmerge2.default)(_this2.rules[name], inputRules);\n\t\n\t                    Object.keys(_this2.rules[name]).forEach(function (rule) {\n\t                        if (_this2.rules[name][rule]) {\n\t                            _this2.fields[name].classList.add(rule);\n\t                        }\n\t                    });\n\t                }\n\t\n\t                // todo think about\n\t                input.addEventListener('change', function () {\n\t                    _this2.fields[name].classList.remove(_this2.options.states.dirty);\n\t\n\t                    var inputData = (0, _getData.getInputData)(input);\n\t                    var value = (0, _getData.getValueByName)(name, inputData);\n\t\n\t                    _this2.data = _extends({}, _this2.data, inputData);\n\t\n\t                    var errors = (0, _validateData.validateField)(_this2.rules[name], _this2.methods, value, input, _this2.getErrorMessage.bind(_this2)); // fixme getErrorMessage\n\t                    _this2.markField(_this2.fields[name], _this2.messages[name], _this2.options.states, errors);\n\t                });\n\t\n\t                input.addEventListener('input', function () {\n\t                    _this2.fields[name].classList.remove(_this2.options.states.pristine);\n\t                    _this2.fields[name].classList.add(_this2.options.states.dirty);\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: 'send',\n\t        value: function send(options) {\n\t            var _this3 = this;\n\t\n\t            (0, _ajax.ajax)(options).then(function (response) {\n\t                if (response.validationErrors) {\n\t                    try {\n\t                        _this3.options.callbacks.error(response.validationErrors);\n\t                    } catch (e) {\n\t                        console.error(e);\n\t                    }\n\t\n\t                    if (response.validationErrors.base) {\n\t                        _this3.nodes.baseMessage.innerHTML = response.validationErrors.base.join(', ');\n\t                        _this3.root.classList.add(_this3.options.formStatePrefix + _this3.options.states.error); // eslint-disable-line max-len\n\t                        _this3.root.classList.remove(_this3.options.formStatePrefix + _this3.options.states.valid); // eslint-disable-line max-len\n\t                        delete response.validationErrors.base;\n\t                    } else {\n\t                        _this3.nodes.baseMessage.innerHTML = '';\n\t                    }\n\t\n\t                    Object.keys(response.validationErrors).forEach(function (name) {\n\t                        return _this3.markField(_this3.fields[name], _this3.messages[name], _this3.options.states, response.validationErrors[name]);\n\t                    });\n\t                } else {\n\t                    try {\n\t                        _this3.options.callbacks.success(response);\n\t                    } catch (e) {\n\t                        console.error(e);\n\t                    }\n\t\n\t                    if (_this3.options.redirect && response.redirect) {\n\t                        window.location.href = response.redirect;\n\t                        return;\n\t                    }\n\t\n\t                    if (_this3.options.clean) {\n\t                        _this3.nodes.form.reset();\n\t                    }\n\t                }\n\t            }).catch(function (_ref) {\n\t                var method = _ref.method;\n\t                var url = _ref.url;\n\t                var status = _ref.status;\n\t                var statusText = _ref.statusText;\n\t\n\t                console.warn(method + ' ' + url + ' ' + status + ' (' + statusText + ')');\n\t\n\t                _this3.nodes.baseMessage.innerHTML = 'Can not send form!'; // todo: language extension\n\t                _this3.root.classList.add(_this3.options.formStatePrefix + _this3.options.states.error); // eslint-disable-line max-len\n\t                _this3.root.classList.remove(_this3.options.formStatePrefix + _this3.options.states.valid); // eslint-disable-line max-len\n\t            });\n\t        }\n\t\n\t        /**\n\t         *\n\t         * @param field\n\t         * @param message\n\t         * @param states\n\t         * @param errors\n\t         */\n\t\n\t    }, {\n\t        key: 'markField',\n\t        value: function markField(field, message, states, errors) {\n\t            if (errors && errors.length) {\n\t                this.markError(field, message, states, errors);\n\t            } else {\n\t                this.markValid(field, message, states);\n\t            }\n\t        }\n\t\n\t        /**\n\t         *\n\t         * @param field\n\t         * @param message\n\t         * @param error\n\t         * @param valid\n\t         * @param errors\n\t         */\n\t\n\t    }, {\n\t        key: 'markError',\n\t        value: function markError(field, message, _ref2, errors) {\n\t            var error = _ref2.error;\n\t            var valid = _ref2.valid;\n\t\n\t            if (!field || !message) {\n\t                return;\n\t            }\n\t\n\t            field.classList.add(error);\n\t            field.classList.remove(valid);\n\t\n\t            message.innerHTML = errors.join(', ');\n\t        }\n\t    }, {\n\t        key: 'markValid',\n\t        value: function markValid(field, message, _ref3) {\n\t            var error = _ref3.error;\n\t            var valid = _ref3.valid;\n\t\n\t            if (!field || !message) {\n\t                return;\n\t            }\n\t\n\t            field.classList.add(valid);\n\t            field.classList.remove(error);\n\t\n\t            message.innerHTML = '';\n\t        }\n\t    }, {\n\t        key: 'getErrorMessage',\n\t        value: function getErrorMessage(name, method) {\n\t            // todo think about it\n\t            var message = '';\n\t\n\t            if (this.options.messages[name] && this.options.messages[name][method]) {\n\t                message = this.options.messages[name][method];\n\t            } else {\n\t                message = this.methods[method].message;\n\t            }\n\t\n\t            return message;\n\t        }\n\t    }, {\n\t        key: 'addMethod',\n\t        value: function addMethod(rule, func, message) {\n\t            this.methods[rule] = {\n\t                func: func,\n\t                message: message\n\t            };\n\t        }\n\t    }, {\n\t        key: 'initMethods',\n\t        value: function initMethods() {\n\t            this.methods = {};\n\t\n\t            this.addMethod('required', function (value) {\n\t                return value && value.trim() !== '';\n\t            }, (0, _jediValidateI18n.translate)('This field is required'));\n\t\n\t            this.addMethod('regexp', function (value, element, regexp) {\n\t                return regexp.test(value);\n\t            }, (0, _jediValidateI18n.translate)('Please, provide correct value'));\n\t\n\t            this.addMethod('email', function (value) {\n\t                return (/[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}/i.test(value)\n\t                );\n\t            }, (0, _jediValidateI18n.translate)('This email is incorrect'));\n\t\n\t            this.addMethod('filesize', function (value, element, size) {\n\t                return [].concat(_toConsumableArray(element.files)).reduce(function (r, file) {\n\t                    return file.size < size && r;\n\t                }, true);\n\t            }, (0, _jediValidateI18n.translate)('This file is too large'));\n\t\n\t            this.addMethod('extension', function (value, element, extensions) {\n\t                return [].concat(_toConsumableArray(element.files)).reduce(function (r, file) {\n\t                    return extensions.indexOf(file.name.split('.').pop()) !== -1 && r;\n\t                }, true);\n\t            }, (0, _jediValidateI18n.translate)('This extension is not supported'));\n\t\n\t            this.addMethod('tel', function (value) {\n\t                return (/^([\\+]+)*[0-9\\x20\\x28\\x29\\-]{5,20}$/.test(value)\n\t                );\n\t            }, (0, _jediValidateI18n.translate)('This phone number is incorrect'));\n\t\n\t            this.addMethod('url', function (value) {\n\t                return (/[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/gi.test(value)\n\t                );\n\t            }, // eslint-disable-line max-len\n\t            (0, _jediValidateI18n.translate)('Wrong url'));\n\t        }\n\t    }], [{\n\t        key: 'addToDictionary',\n\t        value: function addToDictionary(sourceText, translatedText, language) {\n\t            (0, _jediValidateI18n.addTranslation)(sourceText, translatedText, language);\n\t        }\n\t    }]);\n\t\n\t    return JediValidate;\n\t}();\n\t\n\tmodule.exports = JediValidate;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports === 'object') {\n\t        module.exports = factory();\n\t    } else {\n\t        root.deepmerge = factory();\n\t    }\n\t}(this, function () {\n\t\n\tfunction isMergeableObject(val) {\n\t    var nonNullObject = val && typeof val === 'object'\n\t\n\t    return nonNullObject\n\t        && Object.prototype.toString.call(val) !== '[object RegExp]'\n\t        && Object.prototype.toString.call(val) !== '[object Date]'\n\t}\n\t\n\tfunction emptyTarget(val) {\n\t    return Array.isArray(val) ? [] : {}\n\t}\n\t\n\tfunction cloneIfNecessary(value, optionsArgument) {\n\t    var clone = optionsArgument && optionsArgument.clone === true\n\t    return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n\t}\n\t\n\tfunction defaultArrayMerge(target, source, optionsArgument) {\n\t    var destination = target.slice()\n\t    source.forEach(function(e, i) {\n\t        if (typeof destination[i] === 'undefined') {\n\t            destination[i] = cloneIfNecessary(e, optionsArgument)\n\t        } else if (isMergeableObject(e)) {\n\t            destination[i] = deepmerge(target[i], e, optionsArgument)\n\t        } else if (target.indexOf(e) === -1) {\n\t            destination.push(cloneIfNecessary(e, optionsArgument))\n\t        }\n\t    })\n\t    return destination\n\t}\n\t\n\tfunction mergeObject(target, source, optionsArgument) {\n\t    var destination = {}\n\t    if (isMergeableObject(target)) {\n\t        Object.keys(target).forEach(function (key) {\n\t            destination[key] = cloneIfNecessary(target[key], optionsArgument)\n\t        })\n\t    }\n\t    Object.keys(source).forEach(function (key) {\n\t        if (!isMergeableObject(source[key]) || !target[key]) {\n\t            destination[key] = cloneIfNecessary(source[key], optionsArgument)\n\t        } else {\n\t            destination[key] = deepmerge(target[key], source[key], optionsArgument)\n\t        }\n\t    })\n\t    return destination\n\t}\n\t\n\tfunction deepmerge(target, source, optionsArgument) {\n\t    var array = Array.isArray(source);\n\t    var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n\t    var arrayMerge = options.arrayMerge || defaultArrayMerge\n\t\n\t    if (array) {\n\t        return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n\t    } else {\n\t        return mergeObject(target, source, optionsArgument)\n\t    }\n\t}\n\t\n\treturn deepmerge\n\t\n\t}));\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\texports.createObject = createObject;\n\texports.getValueByName = getValueByName;\n\texports.getValueByPath = getValueByPath;\n\texports.getRadioGroupValue = getRadioGroupValue;\n\texports.getInputValue = getInputValue;\n\texports.convertNameToPath = convertNameToPath;\n\texports.getInputData = getInputData;\n\texports.getData = getData;\n\texports.convertData = convertData;\n\texports.getQueryPart = getQueryPart;\n\t\n\tvar _deepmerge = __webpack_require__(1);\n\t\n\tvar _deepmerge2 = _interopRequireDefault(_deepmerge);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction createObject(path, value) {\n\t    var segment = path[0];\n\t\n\t    if (segment.length === 0) {\n\t        return value;\n\t    } else if (segment === '[]') {\n\t        return [createObject(path.slice(1), value)];\n\t    }\n\t\n\t    return _defineProperty({}, segment, createObject(path.slice(1), value));\n\t}\n\t\n\tfunction getValueByName(name, data) {\n\t    var path = convertNameToPath(name);\n\t    return getValueByPath(path, data);\n\t}\n\t\n\tfunction getValueByPath(path, data) {\n\t    return path.reduce(function (value, segment) {\n\t        return segment && value ? value[segment] : value;\n\t    }, data || '');\n\t}\n\t\n\tfunction getRadioGroupValue(elements) {\n\t    return [].concat(_toConsumableArray(elements)).map(function (radio) {\n\t        return getInputValue(radio);\n\t    }).filter(Boolean)[0];\n\t}\n\t\n\tfunction getInputValue(input) {\n\t    if (!input) return undefined;\n\t\n\t    var type = input.type;\n\t\n\t\n\t    if (Array.isArray(input)) {\n\t        return getRadioGroupValue(input);\n\t    }\n\t\n\t    switch (type) {\n\t        case 'select-one':\n\t            return input.options.length ? input.options[input.selectedIndex].value : '';\n\t        case 'select-multiple':\n\t            return input.options.filter(function (option) {\n\t                return option.selected;\n\t            }).map(function (option) {\n\t                return option.value;\n\t            });\n\t        case 'checkbox':\n\t        case 'radio':\n\t            return input.checked ? input.value : '';\n\t        default:\n\t            return input.value;\n\t    }\n\t}\n\t\n\tvar NAME = /(\\[(\\w*)\\]|\\w*)/gi;\n\tfunction convertNameToPath(name) {\n\t    var path = [];\n\t\n\t    var matches = NAME.exec(name);\n\t    while (matches !== null) {\n\t        if (matches.index === NAME.lastIndex) {\n\t            NAME.lastIndex += 1;\n\t        }\n\t\n\t        path.push(matches[2] || matches[1]);\n\t\n\t        matches = NAME.exec(name);\n\t    }\n\t\n\t    return path;\n\t}\n\t\n\tfunction getInputData(input) {\n\t    var value = getInputValue(input);\n\t    var path = convertNameToPath(input.name);\n\t\n\t    return createObject(path, value);\n\t}\n\t\n\tfunction getData(inputs) {\n\t    return Object.keys(inputs).reduce(function (data, name) {\n\t        return (0, _deepmerge2.default)(data, getInputData(inputs[name]));\n\t    }, {});\n\t}\n\t\n\tfunction convertData(data, type, inputs) {\n\t    // todo think about inputs\n\t    switch (type) {\n\t        case 'serialize':\n\t            var convertedData = Object.keys(data).reduce(function (query, name) {\n\t                return '' + query + getQueryPart(name, data[name]);\n\t            }, '');\n\t            return convertedData.length ? convertedData.slice(0, -1) : '';\n\t        case 'formData':\n\t            // todo rewrite, file issue\n\t            return Object.keys(data).reduce(function (formData, name) {\n\t                if (inputs[name] && inputs[name].type && inputs[name].type === 'file') {\n\t                    if (inputs[name].hasAttribute('multiple')) {\n\t                        for (var i = 0; i < inputs[name].files.length; i += 1) {\n\t                            formData.append(name + '[]', inputs[name].files[i]);\n\t                        }\n\t                    } else {\n\t                        formData.append(name, inputs[name].files[0]);\n\t                    }\n\t                } else {\n\t                    formData.append(name, getInputValue(inputs[name]));\n\t                }\n\t\n\t                return formData;\n\t            }, new FormData());\n\t        case 'json':\n\t        default:\n\t            return JSON.stringify(data);\n\t    }\n\t}\n\t\n\tfunction getQueryPart(name, data) {\n\t    if (Array.isArray(data)) {\n\t        return data.reduce(function (part, index) {\n\t            return part + getQueryPart(name + '[' + index + ']', data[index]);\n\t        }, '');\n\t    } else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n\t        return Object.keys(data).reduce(function (part, index) {\n\t            return part + getQueryPart(name + '[' + index + ']', data[index]);\n\t        }, '');\n\t    }\n\t\n\t    return name + '=' + encodeURIComponent(data) + '&';\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.setLanguage = setLanguage;\n\texports.translate = translate;\n\texports.addTranslation = addTranslation;\n\tvar dictionary = __webpack_require__(4);\n\t\n\tvar currentLang = 'en';\n\t\n\tfunction setLanguage(id) {\n\t    currentLang = id;\n\t}\n\t\n\tfunction translate(text) {\n\t    var lang = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : currentLang;\n\t\n\t    return dictionary[lang] && dictionary[lang][text] || text;\n\t}\n\t\n\tfunction addTranslation(sourceText, translatedText) {\n\t    var lang = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : currentLang;\n\t\n\t    if (dictionary[lang] === undefined) {\n\t        dictionary[lang] = {};\n\t    }\n\t    dictionary[lang][sourceText] = translatedText;\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"ru\": {\n\t\t\t\"This field is required\": \"Это поле необходимо заполнить\",\n\t\t\t\"Please, provide correct value\": \"Пожалуйста, введите корректное значение\",\n\t\t\t\"This email is incorrect\": \"Пожалуйста, введите корректный адрес электронной почты\",\n\t\t\t\"This file is too large\": \"Попробуйте загрузить файл поменьше\",\n\t\t\t\"This extension is not supported\": \"Пожалуйста, выберите файл с правильным расширением\",\n\t\t\t\"This phone number is incorrect\": \"Не корректный номер телефона\",\n\t\t\t\"Wrong url\": \"Не корректный url\"\n\t\t}\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.getFormOptions = getFormOptions;\n\texports.getInputRules = getInputRules;\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction getFormOptions(form) {\n\t    var ajax = {\n\t        url: form.getAttribute('action'),\n\t        method: form.getAttribute('method'),\n\t        enctype: form.getAttribute('enctype')\n\t    };\n\t\n\t    return {\n\t        ajax: _extends({}, ajax, {\n\t            sendType: ajax.enctype === 'multipart/form-data' ? 'formData' : undefined\n\t        })\n\t    };\n\t}\n\t\n\tfunction getInputRules(input) {\n\t    var defaultRules = ['required', 'email', 'tel', 'url']; // todo before initialization adding\n\t\n\t    var rules = defaultRules.reduce(function (inputRules, rule) {\n\t        return _extends({}, inputRules, _defineProperty({}, rule, input.hasAttribute(rule) || input.type === rule || input.classList.contains(rule)));\n\t    }, {});\n\t\n\t    return _extends({}, rules, {\n\t        regexp: input.hasAttribute('pattern') ? new RegExp(input.getAttribute('pattern')) : undefined\n\t    });\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.validateField = validateField;\n\texports.validateData = validateData;\n\t\n\tvar _getData = __webpack_require__(2);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction validateField(rules, methods, value, input, getErrorMessage) {\n\t    // fixme getErrorMessage is bad\n\t    if (!input) return [];\n\t\n\t    var name = input.name;\n\t\n\t    var isEmpty = !methods.required.func(value, input);\n\t\n\t    if (isEmpty && rules.required) {\n\t        return [getErrorMessage(name, 'required')]; // todo think about it\n\t    }\n\t\n\t    if (isEmpty) {\n\t        return [];\n\t    }\n\t\n\t    return Object.keys(rules).reduce(function (errors, method) {\n\t        var params = rules[method];\n\t        if (!params) return errors;\n\t\n\t        if (methods[method]) {\n\t            var valid = methods[method].func(value, input, params);\n\t\n\t            if (!valid) {\n\t                errors.push(getErrorMessage(name, method)); // todo think about it\n\t            }\n\t        } else {\n\t            errors.push('Method \"' + method + '\" not found');\n\t        }\n\t\n\t        return errors;\n\t    }, []);\n\t}\n\t\n\tfunction validateData(rules, methods, data, inputs, getErrorMessage) {\n\t    // fixme getErrorMessage is bad\n\t    return Object.keys(rules).reduce(function (obj, name) {\n\t        var value = (0, _getData.getValueByName)(name, data);\n\t        var errors = validateField(rules[name], methods, value, inputs[name], getErrorMessage);\n\t        return _extends({}, obj, _defineProperty({}, name, errors.length ? errors : undefined));\n\t    }, {});\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.ajax = ajax;\n\t// todo maybe it can be vendor library?\n\tfunction ajax(options) {\n\t    return new Promise(function (resolve, reject) {\n\t        var xhr = new XMLHttpRequest();\n\t\n\t        xhr.open(options.method, options.url + (options.method.toUpperCase() === 'GET' ? '?' + options.data : ''), true); // todo concat url and params\n\t\n\t        if (options.sendType === 'serialize') {\n\t            xhr.setRequestHeader('Content-type', options.enctype);\n\t        } else if (options.sendType === 'json') {\n\t            xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n\t        }\n\t\n\t        xhr.onreadystatechange = function () {\n\t            if (xhr.readyState === 4) {\n\t                if (xhr.status === 200) {\n\t                    var response = {};\n\t\n\t                    try {\n\t                        response = JSON.parse(xhr.responseText);\n\t                    } catch (e) {\n\t                        response.validationErrors = { base: ['JSON parsing error'] }; // todo: language extension\n\t                    }\n\t\n\t                    resolve(response);\n\t                } else {\n\t                    reject({\n\t                        xhr: xhr,\n\t                        method: options.method,\n\t                        url: options.url,\n\t                        status: xhr.status,\n\t                        statusText: xhr.statusText\n\t                    });\n\t                }\n\t            }\n\t        };\n\t\n\t        xhr.send(options.method.toUpperCase() === 'POST' ? options.data : '');\n\t    });\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** jedi-validate.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 40f9e5b8ada582e4f41f\n **/","import deepmerge from 'deepmerge';\nimport { getData, getInputData, getInputValue, getRadioGroupValue, createObject, convertData, getValueByName } from './lib/get-data.es6';\nimport { translate, addTranslation, setLanguage } from './i18n/jedi-validate-i18n.es6';\nimport { getFormOptions, getInputRules } from './lib/get-options.es6';\nimport { validateData, validateField } from './lib/validate-data.es6';\nimport { ajax } from './lib/ajax.es6';\n\nclass JediValidate {\n    constructor(root, options = {}) {\n        const defaultOptions = {\n            ajax: {\n                url: null,\n                enctype: 'application/x-www-form-urlencoded',\n                sendType: 'serialize', // 'serialize', 'formData', 'json'\n                method: 'GET',\n            },\n            rules: {},\n            messages: {},\n            containers: {\n                parent: 'form-group',\n                message: 'help-block',\n                baseMessage: 'base-error',\n            },\n            states: {\n                error: 'error',\n                valid: 'valid',\n                pristine: 'pristine',\n                dirty: 'dirty',\n            },\n            formStatePrefix: 'jedi-',\n            callbacks: {\n                success() {},\n                error() {},\n            },\n            clean: true,\n            redirect: true,\n            language: 'en',\n            translations: {},\n        };\n\n        this.root = root;\n\n        this.options = deepmerge(defaultOptions, options);\n\n        this.fields = {};\n        this.inputs = {};\n        this.messages = {};\n        this.data = {};\n\n        this.nodes = this.cacheNodes(this.root, this.options);\n\n        const formOptions = getFormOptions(this.nodes.form);\n\n        this.options = deepmerge(this.options, defaultOptions);\n        this.options = deepmerge(this.options, formOptions);\n        this.options = deepmerge(this.options, options);\n\n        this.rules = {...this.options.rules};\n\n        setLanguage(this.options.language);\n\n        Object.keys(this.options.translations).forEach((language) => {\n            Object.keys(this.options.translations[language]).forEach((translation) => {\n                addTranslation(translation, this.options.translations[language][translation], language);\n            });\n        });\n\n        this.initMethods();\n        this.ready();\n    }\n    \n    static addToDictionary(sourceText, translatedText, language) {\n        addTranslation(sourceText, translatedText, language);\n    }\n\n    /**\n     * Return object with working elements\n     * @param root Root element for search\n     * @param options Object with selectors\n     * @returns {{form: Element, inputs: NodeList, baseMessage: Element}}\n     */\n    cacheNodes(root, options) {\n        return {\n            form: root.querySelector('form'),\n            inputs: root.querySelectorAll('[name]'),\n            baseMessage: root.querySelector(`.${options.containers.baseMessage}`),\n        };\n    }\n    \n    ready() {\n        this.nodes.form.setAttribute('novalidate', 'novalidate');\n\n        this.nodes.form.addEventListener('submit', (event) => {\n            this.data = getData(this.inputs);\n            const errors = validateData(this.rules, this.methods, this.data, this.inputs, this.getErrorMessage.bind(this)); // fixme getErrorMessage\n\n            if (errors && Object.keys(errors).filter(name => errors[name]).length !== 0) {\n                Object.keys(errors).forEach(name =>\n                    this.markField(this.fields[name], this.messages[name], this.options.states, errors[name]));\n\n                try {\n                    this.options.callbacks.error(errors);\n                } catch (e) {\n                    console.error(e);\n                }\n\n                event.preventDefault();\n                return;\n            }\n\n            if (this.options.ajax) { // todo check without (&& this.options.ajax.url)\n                event.preventDefault();\n            } else {\n                try {\n                    this.options.callbacks.success(errors, event);\n                } catch (e) {\n                    console.error(e);\n                }\n\n                return;\n            }\n\n            // fix get opt data\n            this.send({\n                ...this.options.ajax,\n                data: convertData(this.data, this.options.ajax.sendType, this.inputs),\n            });\n        });\n\n        this.nodes.inputs.forEach((input) => {\n            const name = input.name;\n\n            if (this.inputs[name]) {\n                if (Array.isArray(this.inputs[name])) {\n                    this.inputs[name].push(input);\n                } else {\n                    const groupInput = [this.inputs[name], input];\n                    groupInput.name = name;\n                    this.inputs[name] = groupInput;\n                }\n            } else {\n                this.inputs[name] = input;\n\n                let field = input.parentNode;\n\n                do {\n                    if (field.classList.contains(this.options.containers.parent)) {\n                        this.fields[name] = field;\n                        break;\n                    }\n\n                    field = field.parentNode;\n                } while (field);\n\n                if (!this.fields[name]) {\n                    throw new Error('Have no parent field');\n                }\n\n                this.fields[name].classList.add(this.options.states.pristine);\n\n                const messageElement = this.fields[name].querySelector(`.${this.options.containers.message}`);\n\n                if (messageElement) {\n                    this.messages[name] = messageElement;\n                } else {\n                    this.messages[name] = document.createElement('div');\n                    this.messages[name].classList.add(this.options.containers.message);\n                    this.fields[name].appendChild(this.messages[name]);\n                }\n\n                this.rules[name] = this.rules[name] || {};\n                const inputRules = getInputRules(input);\n                this.rules[name] = deepmerge(this.rules[name], inputRules);\n\n                Object.keys(this.rules[name]).forEach((rule) => {\n                    if (this.rules[name][rule]) {\n                        this.fields[name].classList.add(rule);\n                    }\n                });\n            }\n\n            // todo think about\n            input.addEventListener('change', () => {\n                this.fields[name].classList.remove(this.options.states.dirty);\n\n                const inputData = getInputData(input);\n                const value = getValueByName(name, inputData);\n\n                this.data = {\n                    ...this.data,\n                    ...inputData,\n                };\n\n                const errors = validateField(this.rules[name], this.methods, value, input, this.getErrorMessage.bind(this)); // fixme getErrorMessage\n                this.markField(this.fields[name], this.messages[name], this.options.states, errors);\n            });\n\n            input.addEventListener('input', () => {\n                this.fields[name].classList.remove(this.options.states.pristine);\n                this.fields[name].classList.add(this.options.states.dirty);\n            });\n        });\n    }\n\n    send(options) {\n        ajax(options).then(response => {\n            if (response.validationErrors) {\n                try {\n                    this.options.callbacks.error(response.validationErrors);\n                } catch (e) {\n                    console.error(e);\n                }\n\n                if (response.validationErrors.base) {\n                    this.nodes.baseMessage.innerHTML = response.validationErrors.base.join(', ');\n                    this.root.classList.add(this.options.formStatePrefix + this.options.states.error); // eslint-disable-line max-len\n                    this.root.classList.remove(this.options.formStatePrefix + this.options.states.valid); // eslint-disable-line max-len\n                    delete response.validationErrors.base;\n                } else {\n                    this.nodes.baseMessage.innerHTML = '';\n                }\n\n                Object.keys(response.validationErrors).forEach(name =>\n                    this.markField(this.fields[name], this.messages[name], this.options.states, response.validationErrors[name])\n                );\n            } else {\n                try {\n                    this.options.callbacks.success(response);\n                } catch (e) {\n                    console.error(e);\n                }\n\n                if (this.options.redirect && response.redirect) {\n                    window.location.href = response.redirect;\n                    return;\n                }\n\n                if (this.options.clean) {\n                    this.nodes.form.reset();\n                }\n            }\n        }).catch(({ method, url, status, statusText }) => {\n            console.warn(`${method} ${url} ${status} (${statusText})`);\n\n            this.nodes.baseMessage.innerHTML = 'Can not send form!'; // todo: language extension\n            this.root.classList.add(this.options.formStatePrefix + this.options.states.error); // eslint-disable-line max-len\n            this.root.classList.remove(this.options.formStatePrefix + this.options.states.valid); // eslint-disable-line max-len\n        });\n    }\n\n    /**\n     *\n     * @param field\n     * @param message\n     * @param states\n     * @param errors\n     */\n    markField(field, message, states, errors) {\n        if (errors && errors.length) {\n            this.markError(field, message, states, errors);\n        } else {\n            this.markValid(field, message, states);\n        }\n    }\n\n    /**\n     *\n     * @param field\n     * @param message\n     * @param error\n     * @param valid\n     * @param errors\n     */\n    markError(field, message, { error, valid }, errors) {\n        if (!field || !message) {\n            return;\n        }\n\n        field.classList.add(error);\n        field.classList.remove(valid);\n\n        message.innerHTML = errors.join(', ');\n    }\n\n    markValid(field, message, { error, valid }) {\n        if (!field || !message) {\n            return;\n        }\n\n        field.classList.add(valid);\n        field.classList.remove(error);\n\n        message.innerHTML = '';\n    }\n\n    getErrorMessage(name, method) { // todo think about it\n        let message = '';\n\n        if (this.options.messages[name] && this.options.messages[name][method]) {\n            message = this.options.messages[name][method];\n        } else {\n            message = this.methods[method].message;\n        }\n\n        return message;\n    }\n\n    addMethod(rule, func, message) {\n        this.methods[rule] = {\n            func,\n            message,\n        };\n    }\n\n    initMethods() {\n        this.methods = {};\n\n        this.addMethod('required', value =>\n            value && value.trim() !== '',\n            translate('This field is required')\n        );\n\n        this.addMethod('regexp', (value, element, regexp) =>\n            regexp.test(value),\n                translate('Please, provide correct value')\n        );\n\n        this.addMethod('email', value =>\n            /[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}/i.test(value),\n            translate('This email is incorrect')\n        );\n\n        this.addMethod('filesize', (value, element, size) =>\n            [...element.files].reduce((r, file) => file.size < size && r, true),\n            translate('This file is too large')\n        );\n\n        this.addMethod('extension', (value, element, extensions) =>\n            [...element.files].reduce((r, file) => extensions.indexOf(file.name.split('.').pop()) !== -1 && r, true),\n            translate('This extension is not supported')\n        );\n\n        this.addMethod('tel', value =>\n            /^([\\+]+)*[0-9\\x20\\x28\\x29\\-]{5,20}$/.test(value),\n            translate('This phone number is incorrect')\n        );\n\n        this.addMethod('url', value =>\n            /[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/gi.test(value), // eslint-disable-line max-len\n            translate('Wrong url')\n        );\n    }\n}\n\nmodule.exports = JediValidate;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/jedi-validate.es6\n **/","(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.deepmerge = factory();\n    }\n}(this, function () {\n\nfunction isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n}\n\nfunction emptyTarget(val) {\n    return Array.isArray(val) ? [] : {}\n}\n\nfunction cloneIfNecessary(value, optionsArgument) {\n    var clone = optionsArgument && optionsArgument.clone === true\n    return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n}\n\nfunction defaultArrayMerge(target, source, optionsArgument) {\n    var destination = target.slice()\n    source.forEach(function(e, i) {\n        if (typeof destination[i] === 'undefined') {\n            destination[i] = cloneIfNecessary(e, optionsArgument)\n        } else if (isMergeableObject(e)) {\n            destination[i] = deepmerge(target[i], e, optionsArgument)\n        } else if (target.indexOf(e) === -1) {\n            destination.push(cloneIfNecessary(e, optionsArgument))\n        }\n    })\n    return destination\n}\n\nfunction mergeObject(target, source, optionsArgument) {\n    var destination = {}\n    if (isMergeableObject(target)) {\n        Object.keys(target).forEach(function (key) {\n            destination[key] = cloneIfNecessary(target[key], optionsArgument)\n        })\n    }\n    Object.keys(source).forEach(function (key) {\n        if (!isMergeableObject(source[key]) || !target[key]) {\n            destination[key] = cloneIfNecessary(source[key], optionsArgument)\n        } else {\n            destination[key] = deepmerge(target[key], source[key], optionsArgument)\n        }\n    })\n    return destination\n}\n\nfunction deepmerge(target, source, optionsArgument) {\n    var array = Array.isArray(source);\n    var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n    var arrayMerge = options.arrayMerge || defaultArrayMerge\n\n    if (array) {\n        return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n    } else {\n        return mergeObject(target, source, optionsArgument)\n    }\n}\n\nreturn deepmerge\n\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/deepmerge/index.js\n ** module id = 1\n ** module chunks = 0 1\n **/","import deepmerge from 'deepmerge';\n\nexport function createObject(path, value) {\n    const segment = path[0];\n\n    if (segment.length === 0) {\n        return value;\n    } else if (segment === '[]') {\n        return [createObject(path.slice(1), value)];\n    }\n\n    return { [segment]: createObject(path.slice(1), value) };\n}\n\nexport function getValueByName(name, data) {\n    const path = convertNameToPath(name);\n    return getValueByPath(path, data);\n}\n\nexport function getValueByPath(path, data) {\n    return path.reduce((value, segment) => segment && value ? value[segment] : value, data || '');\n}\n\nexport function getRadioGroupValue(elements) {\n    return [...elements].map(radio => getInputValue(radio)).filter(Boolean)[0];\n}\n\nexport function getInputValue(input) {\n    if (!input) return undefined;\n\n    const { type } = input;\n\n    if (Array.isArray(input)) {\n        return getRadioGroupValue(input);\n    }\n\n    switch (type) {\n        case 'select-one':\n            return input.options.length ? input.options[input.selectedIndex].value : '';\n        case 'select-multiple':\n            return input.options.filter(option => option.selected).map(option => option.value);\n        case 'checkbox':\n        case 'radio':\n            return input.checked ? input.value : '';\n        default:\n            return input.value;\n    }\n}\n\nconst NAME = /(\\[(\\w*)\\]|\\w*)/gi;\nexport function convertNameToPath (name) {\n    const path = [];\n\n    let matches = NAME.exec(name);\n    while (matches !== null) {\n        if (matches.index === NAME.lastIndex) {\n            NAME.lastIndex += 1;\n        }\n\n        path.push(matches[2] || matches[1]);\n\n        matches = NAME.exec(name);\n    }\n\n    return path;\n}\n\nexport function getInputData(input) {\n    const value = getInputValue(input);\n    const path = convertNameToPath(input.name);\n\n    return createObject(path, value);\n}\n\nexport function getData(inputs) {\n    return Object.keys(inputs).reduce((data, name) => deepmerge(data, getInputData(inputs[name])), {});\n}\n\nexport function convertData(data, type, inputs) { // todo think about inputs\n    switch (type) {\n        case 'serialize':\n            const convertedData = Object.keys(data)\n                .reduce((query, name) => `${query}${getQueryPart(name, data[name])}`, '');\n            return convertedData.length ? convertedData.slice(0, -1) : '';\n        case 'formData': // todo rewrite, file issue\n            return Object.keys(data).reduce((formData, name) => {\n                if (inputs[name] && inputs[name].type && inputs[name].type === 'file') {\n                    if (inputs[name].hasAttribute('multiple')) {\n                        for (let i = 0; i < inputs[name].files.length; i += 1) {\n                            formData.append(`${name}[]`, inputs[name].files[i]);\n                        }\n                    } else {\n                        formData.append(name, inputs[name].files[0]);\n                    }\n                } else {\n                    formData.append(name, getInputValue(inputs[name]));\n                }\n\n                return formData;\n            }, new FormData());\n        case 'json':\n        default:\n            return JSON.stringify(data);\n    }\n}\n\nexport function getQueryPart(name, data) {\n    if (Array.isArray(data)) {\n        return data.reduce((part, index) => part + getQueryPart(`${name}[${index}]`, data[index]), '');\n    } else if (typeof data === 'object') {\n        return Object.keys(data).reduce((part, index) => part + getQueryPart(`${name}[${index}]`, data[index]), '');\n    }\n\n    return `${name}=${encodeURIComponent(data)}&`;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/get-data.es6\n **/","const dictionary = require('./jedi-validate-i18n-data.json');\n\nlet currentLang = 'en';\n\nexport function setLanguage(id) {\n    currentLang = id;\n}\n\nexport function translate(text, lang = currentLang) {\n    return (dictionary[lang] && dictionary[lang][text]) || text;\n}\n\nexport function addTranslation(sourceText, translatedText, lang = currentLang) {\n    if (dictionary[lang] === undefined) {\n        dictionary[lang] = {};\n    }\n    dictionary[lang][sourceText] = translatedText;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/i18n/jedi-validate-i18n.es6\n **/","module.exports = {\n\t\"ru\": {\n\t\t\"This field is required\": \"Это поле необходимо заполнить\",\n\t\t\"Please, provide correct value\": \"Пожалуйста, введите корректное значение\",\n\t\t\"This email is incorrect\": \"Пожалуйста, введите корректный адрес электронной почты\",\n\t\t\"This file is too large\": \"Попробуйте загрузить файл поменьше\",\n\t\t\"This extension is not supported\": \"Пожалуйста, выберите файл с правильным расширением\",\n\t\t\"This phone number is incorrect\": \"Не корректный номер телефона\",\n\t\t\"Wrong url\": \"Не корректный url\"\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/i18n/jedi-validate-i18n-data.json\n ** module id = 4\n ** module chunks = 0 1\n **/","export function getFormOptions(form) {\n    const ajax = {\n        url: form.getAttribute('action'),\n        method: form.getAttribute('method'),\n        enctype: form.getAttribute('enctype'),\n    };\n\n    return {\n        ajax: {\n            ...ajax,\n            sendType: ajax.enctype === 'multipart/form-data' ? 'formData' : undefined,\n        },\n    };\n}\n\nexport function getInputRules(input) {\n    const defaultRules = ['required', 'email', 'tel', 'url']; // todo before initialization adding\n\n    const rules = defaultRules.reduce((inputRules, rule) => ({\n        ...inputRules,\n        [rule]: input.hasAttribute(rule) || input.type === rule || input.classList.contains(rule),\n    }), {});\n\n    return {\n        ...rules,\n        regexp: input.hasAttribute('pattern') ? new RegExp(input.getAttribute('pattern')) : undefined,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/get-options.es6\n **/","import { getValueByName } from './get-data.es6';\n\nexport function validateField(rules, methods, value, input, getErrorMessage) { // fixme getErrorMessage is bad\n    if (!input) return [];\n\n    const { name } = input;\n    const isEmpty = !methods.required.func(value, input);\n\n    if (isEmpty && rules.required) {\n        return [getErrorMessage(name, 'required')]; // todo think about it\n    }\n\n    if (isEmpty) {\n        return [];\n    }\n\n    return Object.keys(rules).reduce((errors, method) => {\n        const params = rules[method];\n        if (!params) return errors;\n\n        if (methods[method]) {\n            const valid = methods[method].func(value, input, params);\n\n            if (!valid) {\n                errors.push(getErrorMessage(name, method)); // todo think about it\n            }\n        } else {\n            errors.push(`Method \"${method}\" not found`);\n        }\n\n        return errors;\n    }, []);\n}\n\nexport function validateData(rules, methods, data, inputs, getErrorMessage) { // fixme getErrorMessage is bad\n    return Object.keys(rules).reduce((obj, name) => {\n        const value = getValueByName(name, data);\n        const errors = validateField(rules[name], methods, value, inputs[name], getErrorMessage);\n        return {\n            ...obj,\n            [name]: errors.length ? errors : undefined,\n        };\n    }, {});\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/validate-data.es6\n **/","// todo maybe it can be vendor library?\nexport function ajax(options) {\n    return new Promise((resolve, reject) => {\n            const xhr = new XMLHttpRequest();\n\n            xhr.open(options.method, options.url + (options.method.toUpperCase() === 'GET' ? (`?${options.data}`) : ''), true); // todo concat url and params\n\n            if (options.sendType === 'serialize') {\n                xhr.setRequestHeader('Content-type', options.enctype);\n            } else if (options.sendType === 'json') {\n                xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n            }\n\n            xhr.onreadystatechange = () => {\n                if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                        let response = {};\n\n                        try {\n                            response = JSON.parse(xhr.responseText);\n                        } catch (e) {\n                            response.validationErrors = { base: ['JSON parsing error'] };  // todo: language extension\n                        }\n                        \n                        resolve(response);\n                    } else {\n                        reject({\n                            xhr,\n                            method: options.method,\n                            url: options.url,\n                            status: xhr.status,\n                            statusText: xhr.statusText,\n                        });\n                    }\n                }\n            };\n\n            xhr.send(options.method.toUpperCase() === 'POST' ? options.data : '');\n        }\n    );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/ajax.es6\n **/"],"sourceRoot":""}